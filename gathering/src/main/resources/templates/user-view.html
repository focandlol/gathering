<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1, user-scalable=no">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dongle:wght@700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">

  <link rel="stylesheet" type="text/css" href="/css/vendor.css?afterfsdf">
  <link rel="stylesheet" type="text/css" href="/css/indexstyle.css?aftersdf">
  <link rel="stylesheet" type="text/css" href="/css/mainform.css">
  <link rel="stylesheet" type="text/css" href="/css/userviewform.css">
  <link rel="stylesheet" type="text/css" href="/css/mo/indexstyle_m.css?aftersdf">
  <link rel="stylesheet" type="text/css" href="/css/mo/userviewform_m.css">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
<div th:replace="~{template/side :: copyParam (${user})}"></div>

<div id="userViewContainer" class="container">
  <p class="mainTitle">프로필</p>

  <div class="mainContentWrap">
    <div id="profile_content">
      <div id="img_back"><img th:src="|/images/${user.getStoreFile()}|" onerror="this.src='/images/img_1.png';"></div>
      <!--<div id="img_back"><img th:src="|/images/${mil}.PNG|" onerror="this.src='/images/img_1.png';"></div>-->
      <span class="hi2">아이디</span>
      <span class="hi" id="userId" th:text="${user.userId}"></span>

      <span class="hi2">이름</span>
      <span class="hi" id="name" th:text="${user.name}"></span>

      <span class="hi2">닉네임</span>
      <span class="hi" id="nickName" th:text="${user.nickName}"></span>

      <span class="hi2">등급</span>
      <span class="hi" id="grade" th:text="${user.grade}"></span>
    </div>

    <div class="list">
      <span>참가 중인 모임</span>
      <div id="groupList" class="listDiv">
        <div class="listHeader">
          <p class="listSubject">제목</p><p class="listHost">작성자</p>
        </div>
        <div class="listBody">
          <div class="listContent" th:remove="${#strings.isEmpty(forum)}? none : all"></div>
          <div class="listContent" th:each="forum : ${forum}" th:onclick="|location.href='@{/ltforum/{forumId}(forumId=${forum.forumId})}'|">
            <div class="listSubject" th:text="${forum.subject}"></div>
            <div class="listHost" th:text="${forum.host.userId}"></div>
          </div>
          <div class="listContent" th:if="${forum.size} == 0"></div>
          <div class="listContent" th:if="${forum.size} == 0"></div>
          <div class="listContent" th:if="${forum.size} == 0"></div>
          <div class="listContent" th:if="${forum.size} == 1"></div>
          <div class="listContent" th:if="${forum.size} == 1"></div>
          <div class="listContent" th:if="${forum.size} == 2"></div>
        </div>
      </div>
    </div>

    <div class="list">
      <span>참가 중인 채팅방</span>
      <div id="chatList" class="listDiv">
        <div class="listHeader">
          <p class="listSubject">제목</p><p class="listHost">작성자</p>
        </div>
        <div class="listBody">
          <div class="listContent" th:each="chatting : ${chats}" th:onclick="|location.href='@{/club/chat/{clubId}(clubId=${chatting.clubId})}'|">
            <div class="listSubject" th:text="${chatting.clubId}"></div>
            <div class="listHost"></div>
          </div>
          <div class="listContent" th:if="${chats.size} == 0"></div>
          <div class="listContent" th:if="${chats.size} == 0"></div>
          <div class="listContent" th:if="${chats.size} == 0"></div>
          <div class="listContent" th:if="${chats.size} == 1"></div>
          <div class="listContent" th:if="${chats.size} == 1"></div>
          <div class="listContent" th:if="${chats.size} == 2"></div>
        </div>
      </div>
    </div>

    <div class="list">
      <span>참가 중인 동호회</span>
      <div id="clubList" class="listDiv">
        <div class="listHeader">
          <p class="listSubject">제목</p><p class="listHost">작성자</p>
        </div>
        <div class="listBody">
          <div class="listContent" th:remove="${#strings.isEmpty(club)}? none : all"></div>
          <div class="listContent" th:each="club : ${club}" th:onclick="|location.href='@{/club/{clubId}(clubId=${club.clubId})}'|">
            <div class="listSubject" th:text="${club.clubName}"></div>
            <div class="listHost" th:text="${club.host.userId}"></div>
          </div>
          <div class="listContent" th:if="${club.size} == 0"></div>
          <div class="listContent" th:if="${club.size} == 0"></div>
          <div class="listContent" th:if="${club.size} == 0"></div>
          <div class="listContent" th:if="${club.size} == 1"></div>
          <div class="listContent" th:if="${club.size} == 1"></div>
          <div class="listContent" th:if="${club.size} == 2"></div>
        </div>
      </div>
    </div>

    <button id="edit_btn" class="btn_10050" th:if="${#strings.equals(update,'good')}"
            th:onclick="|location.href='@{/user/{userId}/edit(userId=${user.userId})}'|" type="button">
      수정
    </button>
  </div>
</div>
<script src="/script/jquery-1.11.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
<script src="/script/plugins.js"></script>
<script src="/script/script.js"></script>
</body>
</html>